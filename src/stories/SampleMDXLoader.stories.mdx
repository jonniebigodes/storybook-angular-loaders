import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import SampleLoaderComponent from "./SampleLoaderComponent";

import fetch from "node-fetch";

<Meta title="Angular MDX loader example" component={SampleLoaderComponent} />

# Example Story loader

<Story
  name="Example Loader from a story"
  args={{ 
    todo: {
      userId:2,
      id:2,
      title:'something',
      completed:false,
   },
   }}
  loaders={[
    async () => ({
      todo: await (
        await fetch("https://jsonplaceholder.typicode.com/todos/1")
      ).json()
    })
  ]}>
  {(args, { loaded: { todo } }) => ({
    props: {
      todo: todo
    },
    template: '<app-sample-loader [todo]="todo"></app-sample-loader>',
  })}
</Story>


# Example Preview loader

<Story
  name="Example Loader from preview"
  args={{ 
    todo: {
      userId:2,
      id:2,
      title:'something',
      completed:false,
   },
   }}>
  {(args, { loaded: { currentUser } }) => ({
    props: {
      todo:currentUser,
    },
    template: '<app-sample-loader [todo]="todo"></app-sample-loader>',
  })}
</Story>